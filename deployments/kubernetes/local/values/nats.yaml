# NATS Helm Values - LOCAL (Simple)
# Chart: nats/nats
# Install: helm install nats nats/nats -n isa-cloud-local -f local/values/nats.yaml

# Configuration
config:
  cluster:
    enabled: false

  jetstream:
    enabled: true
    fileStore:
      enabled: true
      dir: /data
      pvc:
        enabled: true
        size: 5Gi
    memoryStore:
      enabled: true
      maxSize: 256Mi

  monitor:
    enabled: true
    port: 8222

  nats:
    port: 4222

# Container resources
container:
  resources:
    requests:
      cpu: 50m
      memory: 64Mi
    limits:
      cpu: 250m
      memory: 256Mi

# Service - use merge to set NodePort
service:
  enabled: true
  ports:
    nats:
      enabled: true
    monitor:
      enabled: true
  merge:
    spec:
      type: NodePort
      ports:
        - name: nats
          port: 4222
          targetPort: 4222
          nodePort: 30422
        - name: monitor
          port: 8222
          targetPort: 8222
          nodePort: 30822

# Pod labels (using podTemplate)
podTemplate:
  merge:
    metadata:
      labels:
        tier: infrastructure
        environment: local

# Single replica for local
replicaCount: 1
