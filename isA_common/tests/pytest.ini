[pytest]
# Test discovery
testpaths = .
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Markers
markers =
    component: Component tests with mocked dependencies
    integration: Integration tests with real infrastructure
    golden: Golden tests capturing current behavior
    tdd: TDD tests defining expected behavior
    asyncio: Async tests
    requires_infrastructure: Tests requiring gRPC infrastructure
    slow: Slow-running tests
    requires_redis: Tests requiring Redis connection
    requires_postgres: Tests requiring PostgreSQL connection
    requires_neo4j: Tests requiring Neo4j connection
    requires_nats: Tests requiring NATS connection
    requires_minio: Tests requiring MinIO/S3 connection
    requires_qdrant: Tests requiring Qdrant connection
    requires_mqtt: Tests requiring MQTT broker
    requires_duckdb: Tests requiring DuckDB
    requires_consul: Tests requiring Consul connection

# Async mode
asyncio_mode = auto

# Output
addopts = -v --tb=short

